<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phaser Game with Images</title>
    <style>
        canvas {
            background-color: #000;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
    <script>
        const config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            backgroundColor: '#f0f0f0',
            physics: {
                default: 'arcade',
                arcade: {
                    debug: false
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        const game = new Phaser.Game(config);

        let hueveraBlanca, hueveraMarron, hueveraOro;
        let huevoBlanco, huevoMarron, huevoOro;
        let eggShadow;
        let points = 0;  // Inicializamos correctamente los puntos

        function preload() {
            this.load.image('hueveraBlanca', 'huevos/hueveraBlanca.png');
            this.load.image('hueveraMarron', 'huevos/hueveraMarron.png');
            this.load.image('hueveraOro', 'huevos/hueveraOro.png');
            this.load.image('eggShadow', 'huevos/sombra.png');

            this.load.image('huevoBlanco', 'huevos/huevoBlanco.png');
            this.load.image('huevoMarron', 'huevos/huevoMarron.png');
            this.load.image('huevoOro', 'huevos/huevoOro.png');
        }

        function create() {
            hueveraBlanca = this.add.image(120, 100, 'hueveraBlanca');
            hueveraMarron = this.add.image(120, 250, 'hueveraMarron');
            hueveraOro = this.add.image(120, 400, 'hueveraOro');
            eggShadow = this.add.image(10000, 10000, 'eggShadow');

            huevoBlanco = this.add.image(500, 100, 'huevoBlanco');
            huevoMarron = this.add.image(600, 100, 'huevoMarron');
            huevoOro = this.add.image(700, 100, 'huevoOro');

            huevoBlanco.setInteractive({ draggable: true });
            huevoMarron.setInteractive({ draggable: true });
            huevoOro.setInteractive({ draggable: true });

            huevoBlanco.on('pointerdown', function () {
                console.log('Huevo clickeado: Blanco');
                this.setScale(1.3);
            });

            huevoMarron.on('pointerdown', function () {
                console.log('Huevo clickeado: Marron');
                this.setScale(1.3);
            });

            huevoOro.on('pointerdown', function () {
                console.log('Huevo clickeado: Oro');
                this.setScale(1.3);
            });

            this.input.on('drag', function (pointer, object, x, y) {
                object.x = x;
                object.y = y;
                eggShadow.x = x + 8;
                eggShadow.y = y + 8;
            });

            this.input.on('dragend', function (pointer, object) {
                object.setScale(1.0);
                eggShadow.x = 10000;
                eggShadow.y = 10000;

                if (Phaser.Math.Distance.Between(huevoBlanco.x, huevoBlanco.y, hueveraBlanca.x, hueveraBlanca.y) < 50 && object === huevoBlanco) {
                    console.log('Has acertado con el huevo blanco');
                    points += 1;
            console.log("Puntos: " + points);

                } else if (Phaser.Math.Distance.Between(huevoMarron.x, huevoMarron.y, hueveraMarron.x, hueveraMarron.y) < 50 && object === huevoMarron) {
                    console.log('Has acertado con el huevo marron');
                    points += 5;
            console.log("Puntos: " + points);

                } else if (Phaser.Math.Distance.Between(huevoOro.x, huevoOro.y, hueveraOro.x, hueveraOro.y) < 50 && object === huevoOro) {
                    console.log('Has acertado con el huevo oro');
                    points += 10;
            console.log("Puntos: " + points);

                } else {
                    console.log('Has fallado');
                    
                }
            });
        }

        function update() {
            huevoBlanco.y += 1;


        }
    </script>
</body>
</html>
